---
http_interactions:
- request:
    method: get
    uri: http://localhost:6301/clusters/.demo-cluster/nodes
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '10809'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": [
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a3",
              "attributes": {
                "name": "node1",
                "params": {
                  "platform": "demo",
                  "key": "node1",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.1"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a3"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a4",
              "attributes": {
                "name": "node2",
                "params": {
                  "platform": "demo",
                  "key": "node2",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.2"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a4"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a5",
              "attributes": {
                "name": "node3",
                "params": {
                  "platform": "demo",
                  "key": "node3",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.3"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a5"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a6",
              "attributes": {
                "name": "node4",
                "params": {
                  "platform": "demo",
                  "key": "node4",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.4"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a6"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a7",
              "attributes": {
                "name": "node5",
                "params": {
                  "platform": "demo",
                  "key": "node5",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.5"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a7"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a8",
              "attributes": {
                "name": "node6",
                "params": {
                  "platform": "demo",
                  "key": "node6",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.6"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a8"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a9",
              "attributes": {
                "name": "node7",
                "params": {
                  "platform": "demo",
                  "key": "node7",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.7"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a9"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8aa",
              "attributes": {
                "name": "node8",
                "params": {
                  "platform": "demo",
                  "key": "node8",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.8"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8aa"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8ab",
              "attributes": {
                "name": "node9",
                "params": {
                  "platform": "demo",
                  "key": "node9",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.9"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8ab"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8ac",
              "attributes": {
                "name": "node10",
                "params": {
                  "platform": "demo",
                  "key": "node10",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.10"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8ac"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/cascades"
                  }
                }
              }
            }
          ],
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 12:37:21 GMT
- request:
    method: get
    uri: http://localhost:6301/nodes/demo-cluster.node1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1070'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "nodes",
            "id": "5dfd09cde1382365ad3cd8a3",
            "attributes": {
              "name": "node1",
              "params": {
                "platform": "demo",
                "key": "node1",
                "cluster": "demo-cluster",
                "subnet": "10.10.0.0/24",
                "even": false,
                "ip": "10.10.0.1"
              }
            },
            "links": {
              "self": "/nodes/5dfd09cde1382365ad3cd8a3"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cluster",
                  "related": "/nodes/5dfd09cde1382365ad3cd8a3/cluster"
                }
              },
              "groups": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/groups",
                  "related": "/nodes/5dfd09cde1382365ad3cd8a3/groups"
                }
              },
              "cascades": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cascades",
                  "related": "/nodes/5dfd09cde1382365ad3cd8a3/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 12:37:21 GMT
- request:
    method: get
    uri: http://localhost:6301/nodes/demo-cluster.missing
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Content-Type:
      - application/vnd.api+json
      X-Cascade:
      - pass
      Content-Length:
      - '777'
    body:
      encoding: UTF-8
      string: |-
        {
          "errors": [
            {
              "id": "93aef42f-b611-44f4-bf7d-d119564b320a",
              "title": "Not Found Error",
              "detail": "\nmessage:\n  Document not found for class Node with attributes {:cluster=>#<Cluster _id: 5dfd09cde1382365ad3cd8a2, level_params: {\"platform\"=>\"demo\", \"key\"=>\"cluster\", \"cluster\"=>\"demo-cluster\"}, name: \"demo-cluster\">, :name=>\"missing\"}.\nsummary:\n  When calling Node.find_by with a hash of attributes, all attributes provided must match a document in the database or this error will be raised.\nresolution:\n  Search for attributes that are in the database or set the Mongoid.raise_not_found_error configuration option to false, which will cause a nil to be returned instead of raising this error.",
              "status": "404"
            }
          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 12:47:09 GMT
- request:
    method: get
    uri: http://localhost:6301/clusters/.demo-cluster/groups
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '3201'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": [
            {
              "type": "groups",
              "id": "5dfd09cde1382365ad3cd8ad",
              "attributes": {
                "name": "even",
                "priority": 100,
                "params": {
                  "platform": "demo",
                  "key": "even",
                  "cluster": "demo-cluster",
                  "even": true
                }
              },
              "links": {
                "self": "/groups/5dfd09cde1382365ad3cd8ad"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cluster",
                    "related": "/groups/5dfd09cde1382365ad3cd8ad/cluster"
                  }
                },
                "nodes": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/nodes",
                    "related": "/groups/5dfd09cde1382365ad3cd8ad/nodes"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cascades",
                    "related": "/groups/5dfd09cde1382365ad3cd8ad/cascades"
                  }
                }
              }
            },
            {
              "type": "groups",
              "id": "5dfd09cde1382365ad3cd8ae",
              "attributes": {
                "name": "odd",
                "priority": 200,
                "params": {
                  "platform": "demo",
                  "key": "odd",
                  "cluster": "demo-cluster",
                  "even": false
                }
              },
              "links": {
                "self": "/groups/5dfd09cde1382365ad3cd8ae"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cluster",
                    "related": "/groups/5dfd09cde1382365ad3cd8ae/cluster"
                  }
                },
                "nodes": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/nodes",
                    "related": "/groups/5dfd09cde1382365ad3cd8ae/nodes"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cascades",
                    "related": "/groups/5dfd09cde1382365ad3cd8ae/cascades"
                  }
                }
              }
            },
            {
              "type": "groups",
              "id": "5dfd09cde1382365ad3cd8af",
              "attributes": {
                "name": "subnet",
                "priority": 300,
                "params": {
                  "platform": "demo",
                  "key": "subnet",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24"
                }
              },
              "links": {
                "self": "/groups/5dfd09cde1382365ad3cd8af"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/cluster",
                    "related": "/groups/5dfd09cde1382365ad3cd8af/cluster"
                  }
                },
                "nodes": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/nodes",
                    "related": "/groups/5dfd09cde1382365ad3cd8af/nodes"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/cascades",
                    "related": "/groups/5dfd09cde1382365ad3cd8af/cascades"
                  }
                }
              }
            }
          ],
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 12:56:17 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.even
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1034'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "groups",
            "id": "5dfd09cde1382365ad3cd8ad",
            "attributes": {
              "name": "even",
              "priority": 100,
              "params": {
                "platform": "demo",
                "key": "even",
                "cluster": "demo-cluster",
                "even": true
              }
            },
            "links": {
              "self": "/groups/5dfd09cde1382365ad3cd8ad"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cluster",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/cluster"
                }
              },
              "nodes": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/nodes",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/nodes"
                }
              },
              "cascades": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cascades",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 13:01:59 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.missing
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Content-Type:
      - application/vnd.api+json
      X-Cascade:
      - pass
      Content-Length:
      - '779'
    body:
      encoding: UTF-8
      string: |-
        {
          "errors": [
            {
              "id": "e0d01cec-fa5a-4f36-a89e-7f8c4b97d741",
              "title": "Not Found Error",
              "detail": "\nmessage:\n  Document not found for class Group with attributes {:cluster=>#<Cluster _id: 5dfd09cde1382365ad3cd8a2, level_params: {\"platform\"=>\"demo\", \"key\"=>\"cluster\", \"cluster\"=>\"demo-cluster\"}, name: \"demo-cluster\">, :name=>\"missing\"}.\nsummary:\n  When calling Group.find_by with a hash of attributes, all attributes provided must match a document in the database or this error will be raised.\nresolution:\n  Search for attributes that are in the database or set the Mongoid.raise_not_found_error configuration option to false, which will cause a nil to be returned instead of raising this error.",
              "status": "404"
            }
          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 13:01:59 GMT
- request:
    method: get
    uri: http://localhost:6301/clusters/.demo-cluster
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1013'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "clusters",
            "id": "5dfd09cde1382365ad3cd8a2",
            "attributes": {
              "name": "demo-cluster",
              "params": {
                "platform": "demo",
                "key": "cluster",
                "cluster": "demo-cluster"
              }
            },
            "links": {
              "self": "/clusters/5dfd09cde1382365ad3cd8a2"
            },
            "relationships": {
              "nodes": {
                "links": {
                  "self": "/clusters/5dfd09cde1382365ad3cd8a2/relationships/nodes",
                  "related": "/clusters/5dfd09cde1382365ad3cd8a2/nodes"
                }
              },
              "groups": {
                "links": {
                  "self": "/clusters/5dfd09cde1382365ad3cd8a2/relationships/groups",
                  "related": "/clusters/5dfd09cde1382365ad3cd8a2/groups"
                }
              },
              "cascades": {
                "links": {
                  "self": "/clusters/5dfd09cde1382365ad3cd8a2/relationships/cascades",
                  "related": "/clusters/5dfd09cde1382365ad3cd8a2/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 23 Dec 2019 13:10:53 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.subnet
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1050'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "groups",
            "id": "5dfd09cde1382365ad3cd8af",
            "attributes": {
              "name": "subnet",
              "priority": 300,
              "params": {
                "platform": "demo",
                "key": "subnet",
                "cluster": "demo-cluster",
                "subnet": "10.10.0.0/24"
              }
            },
            "links": {
              "self": "/groups/5dfd09cde1382365ad3cd8af"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/cluster",
                  "related": "/groups/5dfd09cde1382365ad3cd8af/cluster"
                }
              },
              "nodes": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/nodes",
                  "related": "/groups/5dfd09cde1382365ad3cd8af/nodes"
                }
              },
              "cascades": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8af/relationships/cascades",
                  "related": "/groups/5dfd09cde1382365ad3cd8af/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Mon, 30 Dec 2019 17:08:48 GMT
- request:
    method: get
    uri: http://localhost:6301/nodes/demo-cluster.node10
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1072'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "nodes",
            "id": "5dfd09cde1382365ad3cd8ac",
            "attributes": {
              "name": "node10",
              "params": {
                "platform": "demo",
                "key": "node10",
                "cluster": "demo-cluster",
                "subnet": "10.10.0.0/24",
                "even": true,
                "ip": "10.10.0.10"
              }
            },
            "links": {
              "self": "/nodes/5dfd09cde1382365ad3cd8ac"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cluster",
                  "related": "/nodes/5dfd09cde1382365ad3cd8ac/cluster"
                }
              },
              "groups": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/groups",
                  "related": "/nodes/5dfd09cde1382365ad3cd8ac/groups"
                }
              },
              "cascades": {
                "links": {
                  "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cascades",
                  "related": "/nodes/5dfd09cde1382365ad3cd8ac/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Tue, 31 Dec 2019 14:35:20 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.even?include=nodes
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '6918'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "groups",
            "id": "5dfd09cde1382365ad3cd8ad",
            "attributes": {
              "name": "even",
              "priority": 100,
              "params": {
                "platform": "demo",
                "key": "even",
                "cluster": "demo-cluster",
                "even": true
              }
            },
            "links": {
              "self": "/groups/5dfd09cde1382365ad3cd8ad"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cluster",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/cluster"
                }
              },
              "nodes": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/nodes",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/nodes"
                },
                "data": [
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a4"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a6"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a8"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8aa"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8ac"
                  }
                ]
              },
              "cascades": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ad/relationships/cascades",
                  "related": "/groups/5dfd09cde1382365ad3cd8ad/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a4",
              "attributes": {
                "name": "node2",
                "params": {
                  "platform": "demo",
                  "key": "node2",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.2"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a4"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a4/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a4/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a6",
              "attributes": {
                "name": "node4",
                "params": {
                  "platform": "demo",
                  "key": "node4",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.4"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a6"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a6/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a6/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a8",
              "attributes": {
                "name": "node6",
                "params": {
                  "platform": "demo",
                  "key": "node6",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.6"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a8"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a8/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a8/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8aa",
              "attributes": {
                "name": "node8",
                "params": {
                  "platform": "demo",
                  "key": "node8",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.8"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8aa"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8aa/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8aa/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8ac",
              "attributes": {
                "name": "node10",
                "params": {
                  "platform": "demo",
                  "key": "node10",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": true,
                  "ip": "10.10.0.10"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8ac"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ac/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ac/cascades"
                  }
                }
              }
            }
          ]
        }
    http_version: 
  recorded_at: Tue, 31 Dec 2019 16:52:57 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.odd?include=nodes
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '6919'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "groups",
            "id": "5dfd09cde1382365ad3cd8ae",
            "attributes": {
              "name": "odd",
              "priority": 200,
              "params": {
                "platform": "demo",
                "key": "odd",
                "cluster": "demo-cluster",
                "even": false
              }
            },
            "links": {
              "self": "/groups/5dfd09cde1382365ad3cd8ae"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cluster",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/cluster"
                }
              },
              "nodes": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/nodes",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/nodes"
                },
                "data": [
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a3"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a5"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a7"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8a9"
                  },
                  {
                    "type": "nodes",
                    "id": "5dfd09cde1382365ad3cd8ab"
                  }
                ]
              },
              "cascades": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cascades",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a3",
              "attributes": {
                "name": "node1",
                "params": {
                  "platform": "demo",
                  "key": "node1",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.1"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a3"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a3/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a3/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a5",
              "attributes": {
                "name": "node3",
                "params": {
                  "platform": "demo",
                  "key": "node3",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.3"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a5"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a5/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a5/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a7",
              "attributes": {
                "name": "node5",
                "params": {
                  "platform": "demo",
                  "key": "node5",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.5"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a7"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a7/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a7/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8a9",
              "attributes": {
                "name": "node7",
                "params": {
                  "platform": "demo",
                  "key": "node7",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.7"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8a9"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8a9/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8a9/cascades"
                  }
                }
              }
            },
            {
              "type": "nodes",
              "id": "5dfd09cde1382365ad3cd8ab",
              "attributes": {
                "name": "node9",
                "params": {
                  "platform": "demo",
                  "key": "node9",
                  "cluster": "demo-cluster",
                  "subnet": "10.10.0.0/24",
                  "even": false,
                  "ip": "10.10.0.9"
                }
              },
              "links": {
                "self": "/nodes/5dfd09cde1382365ad3cd8ab"
              },
              "relationships": {
                "cluster": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/cluster",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/cluster"
                  }
                },
                "groups": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/groups",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/groups"
                  }
                },
                "cascades": {
                  "links": {
                    "self": "/nodes/5dfd09cde1382365ad3cd8ab/relationships/cascades",
                    "related": "/nodes/5dfd09cde1382365ad3cd8ab/cascades"
                  }
                }
              }
            }
          ]
        }
    http_version: 
  recorded_at: Tue, 31 Dec 2019 16:55:34 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.odd
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/vnd.api+json
      Content-Length:
      - '1033'
    body:
      encoding: UTF-8
      string: |-
        {
          "data": {
            "type": "groups",
            "id": "5dfd09cde1382365ad3cd8ae",
            "attributes": {
              "name": "odd",
              "priority": 200,
              "params": {
                "platform": "demo",
                "key": "odd",
                "cluster": "demo-cluster",
                "even": false
              }
            },
            "links": {
              "self": "/groups/5dfd09cde1382365ad3cd8ae"
            },
            "relationships": {
              "cluster": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cluster",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/cluster"
                }
              },
              "nodes": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/nodes",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/nodes"
                }
              },
              "cascades": {
                "links": {
                  "self": "/groups/5dfd09cde1382365ad3cd8ae/relationships/cascades",
                  "related": "/groups/5dfd09cde1382365ad3cd8ae/cascades"
                }
              }
            }
          },
          "jsonapi": {
            "version": "1.0"
          },
          "included": [

          ]
        }
    http_version: 
  recorded_at: Thu, 02 Jan 2020 11:33:25 GMT
- request:
    method: get
    uri: http://localhost:6301/groups/demo-cluster.missing?include=nodes
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - "[REDACTED]"
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Content-Type:
      - application/vnd.api+json
      X-Cascade:
      - pass
      Content-Length:
      - '779'
    body:
      encoding: UTF-8
      string: |-
        {
          "errors": [
            {
              "id": "6604e48a-8c41-4896-b1d4-0ee3011f13db",
              "title": "Not Found Error",
              "detail": "\nmessage:\n  Document not found for class Group with attributes {:cluster=>#<Cluster _id: 5dfd09cde1382365ad3cd8a2, level_params: {\"platform\"=>\"demo\", \"key\"=>\"cluster\", \"cluster\"=>\"demo-cluster\"}, name: \"demo-cluster\">, :name=>\"missing\"}.\nsummary:\n  When calling Group.find_by with a hash of attributes, all attributes provided must match a document in the database or this error will be raised.\nresolution:\n  Search for attributes that are in the database or set the Mongoid.raise_not_found_error configuration option to false, which will cause a nil to be returned instead of raising this error.",
              "status": "404"
            }
          ]
        }
    http_version: 
  recorded_at: Tue, 07 Jan 2020 14:03:40 GMT
recorded_with: VCR 5.0.0
